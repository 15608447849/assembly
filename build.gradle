group 'transmission'
    version '1.0'

apply plugin: 'java'
apply plugin: 'idea'
sourceCompatibility = 1.8
tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}
repositories {
    mavenCentral()
}
def addLibs(String libsPath,def fun){

    File libs = file(libsPath)
    libs.listFiles().each {
        file->
            if (file.isDirectory()){
                addLibs(file.path,fun)
            }else{
                fun(file)
            }

    }
}
dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    addLibs('libs',
            {
                file ->
                    println(file)
                    compile files(file.path)
            }
    )
}
jar {
    manifest {
//        attributes 'Main-Class': 'com.winone.ftc.lunch.Main'
        attributes 'Implementation-Title': 'Gradle Quickstart',
                'Implementation-Version': version
    }
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}